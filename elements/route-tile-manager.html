<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../components/polymer-flex-layout/polymer-flex-layout.html">
<link rel="import" href="./route-ui-tile/route-ui-tile.html">
<link rel="import" href="route-tile-media.html">
<link rel="import" href="route-tile-lights.html">

<polymer-element name="route-tile-manager" attributes="messenger">
  <template>
    <link rel="stylesheet" href="css/route-tile-manager.css">

    <route-tile-layout id="tileLayout" auto layout="{{layout}}"></route-tile-layout>

    <route-ui-tile></route-ui-tile>
    <route-ui-tile></route-ui-tile>
    <route-ui-tile></route-ui-tile>

  </template>
  <script>
    (function() {
      Polymer("route-tile-manager", {
        layout: [
          [1, 1, 2],
          [1, 1, 3],
        ],
        ready: function() {
          window.addEventListener("resize", this.screenSizeChange.bind(this));
        },
        enteredView: function() {},
        screenSizeChange: function(e) {
          this.$.tileLayout.invalidate();
        },
      });
    })();
  </script>
</polymer-element>