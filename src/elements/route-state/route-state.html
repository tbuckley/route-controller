<!--
/**
 * @module Route Elements
 */
/**
 * route-state
 *
 * Example:
 *
 *     <route-state name="Sonos.CurrentTrack" value="{{current}}"></route-state>
 *
 * @class route-state
 */
-->
<link rel="import" href="../../components/polymer/polymer.html">
<link rel="import" href="../route-socket/route-socket.html">

<polymer-element name="route-state" attributes="">
  <template>
    <route-socket id="socket"></route-socket>
  </template>
  <script>
    (function() {
      Polymer('route-state', {
        attached: function() {
          this.handler = this.stateHandler.bind(this);
          this.$.socket.on('state', this.handler);
        },
        stateHandler: function(values) {
          this.fire("route-state-change", {
            data: values,
          });
        },
      });
    })();
  </script>
</polymer-element>